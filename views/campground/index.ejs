<!-- @format -->

<% layout("layouts/boilerplate") %>

<h1 class="mb-4">All Campgrounds</h1>

<div class="container">
     <% campgrounds.forEach(camp => { %>
     <div class="card mb-3 shadow-sm w-100">
          <div class="row g-0">
               <!-- Image -->
               <div class="col-md-4">
                    <img
                         src="<%= camp.image || 'https://via.placeholder.com/600x400?text=No+Image' %>"
                         class="img-fluid rounded-start h-100 w-100 object-fit-cover"
                         alt="<%= camp.title %>"
                    />
               </div>

               <!-- Content -->
               <div class="col-md-8">
                    <div class="card-body position-relative">
                         <!-- Price Badge -->
                         <% if (camp.price) { %>
                         <span
                              class="badge bg-success position-absolute top-0 end-0 m-2 fs-6"
                         >
                              $<%= camp.price %>
                         </span>
                         <% } %>

                         <h5 class="card-title"><%= camp.title %></h5>
                         <% if (camp.description) { %>
                         <p class="card-text mb-2">
                              <%= camp.description.substring(0, 200) %>...
                         </p>
                         <% } %>
                         <p class="card-text text-muted mb-1">
                              <%= camp.location %>
                         </p>

                         <a
                              href="/campgrounds/<%= camp._id %>"
                              class="btn btn-primary"
                         >
                              View <%= camp.title %>
                         </a>
                    </div>
               </div>
          </div>
     </div>
     <% }) %>
</div>
