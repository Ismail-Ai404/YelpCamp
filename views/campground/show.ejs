<!-- @format -->

<% layout("layouts/boilerplate") %>

<div class="container mt-4">
     <div class="card shadow-sm mb-4">
          <!-- Image -->
          <% if(campground.image) { %>
          <img
               src="<%= campground.image %>"
               class="card-img-top"
               alt="<%= campground.title %>"
          />
          <% } else { %>
          <img
               src="https://via.placeholder.com/800x400?text=No+Image"
               class="card-img-top"
               alt="No Image"
          />
          <% } %>

          <!-- Card Body -->
          <div class="card-body">
               <h2 class="card-title"><%= campground.title %></h2>
               <p class="text-muted mb-1">
                    <strong>Location:</strong> <%= campground.location %>
               </p>

               <% if(campground.description) { %>
               <p class="card-text">
                    <strong>Description:</strong> <%= campground.description %>
               </p>
               <% } %> <% if(campground.price) { %>
               <span class="badge bg-success fs-6 mb-3"
                    >Price: $<%= campground.price %>/night</span
               >
               <% } %>

               <!-- Action Buttons -->
               <div class="mt-3 d-flex flex-wrap gap-2">
                    <a href="/campgrounds" class="btn btn-warning"
                         >Back to All Campgrounds</a
                    >
                    <a
                         href="/campgrounds/<%= campground._id %>/edit"
                         class="btn btn-primary"
                         >Edit Campground</a
                    >
                    <form
                         action="/campgrounds/<%= campground._id %>?_method=DELETE"
                         method="POST"
                         style="display: inline"
                         onsubmit="return confirm('Are you sure you want to delete this campground?');"
                    >
                         <button type="submit" class="btn btn-danger">
                              Delete Campground
                         </button>
                    </form>
               </div>

               <!-- Rating Form -->
               <div class="card shadow-sm mb-4 mt-4">
                    <div class="card-body">
                         <h4 class="card-title mb-3">Leave a Rating</h4>
                         <form
                              action="/campgrounds/<%= campground._id %>/reviews"
                              method="POST"
                              novalidate
                              class="needs-validation"
                         >
                              <!-- Rating -->
                              <div class="mb-3">
                                   <label for="rating" class="form-label"
                                        >Rating</label
                                   >
                                   <select
                                        class="form-select"
                                        id="rating"
                                        name="review[rating]"
                                        required
                                   >
                                        <option value="" disabled selected>
                                             Choose...
                                        </option>
                                        <option value="1">⭐ 1 - Poor</option>
                                        <option value="2">⭐⭐ 2 - Fair</option>
                                        <option value="3">
                                             ⭐⭐⭐ 3 - Good
                                        </option>
                                        <option value="4">
                                             ⭐⭐⭐⭐ 4 - Very Good
                                        </option>
                                        <option value="5">
                                             ⭐⭐⭐⭐⭐ 5 - Excellent
                                        </option>
                                   </select>
                              </div>

                              <!-- Review -->
                              <div class="mb-3">
                                   <label for="review" class="form-label"
                                        >Your Review</label
                                   >
                                   <textarea
                                        class="form-control"
                                        id="review"
                                        name="review[body]"
                                        rows="3"
                                        placeholder="Write something about this campground..."
                                        maxlength="1000"
                                   ></textarea>
                              </div>

                              <button type="submit" class="btn btn-success">
                                   Submit Review
                              </button>
                         </form>
                    </div>
               </div>
          </div>
     </div>
</div>
